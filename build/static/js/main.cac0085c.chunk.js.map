{"version":3,"sources":["components/Filter.js","components/Form.js","components/Person.js","components/Persons.js","service/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleChange","search","value","onChange","Form","name","number","handleSubmit","handleNewNumber","handleNewName","onSubmit","type","Person","person","handleDelete","onClick","id","Persons","regularResults","filteredResults","removePerson","searchInput","length","map","key","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","messageStatus","className","App","useState","persons","setPersons","searchPerson","setSearchPerson","filteredPersons","setFilteredPersons","newName","setNewName","newNumber","setNewNumber","notification","setNotification","notificationSuccess","setNotificationSucess","useEffect","personService","initialContacts","e","target","toLowerCase","filter","includes","preventDefault","find","window","confirm","updatedContact","returnedContact","p","setTimeout","catch","error","concat","toDelete","render","document","getElementById"],"mappings":"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","file":"static/js/main.cac0085c.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ handleChange, search }) => {\n  return (\n    <div>\n      filter shown with <input value={search} onChange={handleChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst Form = ({\n  name,\n  number,\n  handleSubmit,\n  handleNewNumber,\n  handleNewName,\n}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input value={name} onChange={handleNewName} />\n      </div>\n      <div>\n        number: <input value={number} onChange={handleNewNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import React from 'react';\n\nconst Person = ({ person, handleDelete }) => {\n  return (\n    <>\n      <p>\n        {person.name} {person.number}{' '}\n        <button onClick={() => handleDelete(person.id)}>delete</button>\n      </p>\n    </>\n  );\n};\n\nexport default Person;\n","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({\n  regularResults,\n  filteredResults,\n  removePerson,\n  searchInput,\n}) => {\n  return (\n    <>\n      {searchInput.length > 0\n        ? filteredResults.map((person) => (\n            <Person\n              key={person.name}\n              person={person}\n              handleDelete={removePerson}\n            />\n          ))\n        : regularResults.map((person) => (\n            <Person\n              key={person.name}\n              person={person}\n              handleDelete={removePerson}\n            />\n          ))}\n    </>\n  );\n};\n\nexport default Persons;\n","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, remove, update };\n","import React from 'react';\n\nconst Notification = ({ message, messageStatus }) => {\n  if (message === null) {\n    return null;\n  }\n  return (\n    <div\n      className={messageStatus ? 'notification-success' : 'notification-fail'}\n    >\n      {message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\n\nimport Filter from './components/Filter';\nimport Form from './components/Form';\nimport Persons from './components/Persons';\nimport personService from './service/persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [searchPerson, setSearchPerson] = useState('');\n  const [filteredPersons, setFilteredPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [notification, setNotification] = useState(null);\n  const [notificationSuccess, setNotificationSucess] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialContacts) => {\n      setPersons(initialContacts);\n    });\n  }, []);\n\n  const handleFilterChange = (e) => {\n    setSearchPerson(e.target.value.toLowerCase());\n    setFilteredPersons(\n      persons.filter((person) =>\n        person.name.toLowerCase().includes(searchPerson)\n      )\n    );\n  };\n\n  const handleNewNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNewNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const addPerson = (e) => {\n    e.preventDefault();\n    const person = persons.find(({ name }) => name === newName);\n    if (person) {\n      if (\n        window.confirm(\n          `${person.name} is already added to phonebook, replace the old number with a new one ?`\n        )\n      ) {\n        const updatedContact = { ...person, number: newNumber };\n        personService\n          .update(person.id, updatedContact)\n          .then((returnedContact) => {\n            setPersons(\n              persons.map((p) => (p.id !== person.id ? p : returnedContact))\n            );\n            setNewName('');\n            setNewNumber('');\n            setNotification(\n              `Updated the Number of ${person.name} to ${newNumber}`\n            );\n            setNotificationSucess(true);\n            setTimeout(() => {\n              setNotification(null);\n              setNotificationSucess(null);\n            }, 5000);\n          })\n          .catch((error) => {\n            setNotification(\n              `Contact ${person.name} was already deleted from the server`\n            );\n            setNotificationSucess(false);\n            setTimeout(() => {\n              setNotification(null);\n              setNotificationSucess(null);\n            }, 5000);\n          });\n      }\n    } else {\n      const newContact = {\n        name: newName,\n        number: newNumber,\n      };\n      personService.create(newContact).then((returnedContact) => {\n        setPersons(persons.concat(returnedContact));\n        setNewName('');\n        setNewNumber('');\n        setNotification(`Added ${newName}`);\n        setNotificationSucess(true);\n        setTimeout(() => {\n          setNotification(null);\n          setNotificationSucess(null);\n        }, 5000);\n      });\n    }\n  };\n\n  const deletePerson = (id) => {\n    const toDelete = persons.find((person) => person.id === id);\n    const ok = window.confirm(`Delete ${toDelete.name} ?`);\n    if (ok) {\n      personService\n        .remove(id)\n        .then((response) => {\n          setPersons(persons.filter((person) => person.id !== id));\n          setNotification(`Deleted ${toDelete.name}`);\n          setNotificationSucess(false);\n          setTimeout(() => {\n            setNotification(null);\n            setNotificationSucess(null);\n          }, 5000);\n        })\n        .catch(() => {\n          setPersons(persons.filter((person) => person.id !== id));\n          setNotification(`${toDelete.name} had already been removed`);\n          setNotificationSucess(false);\n          setTimeout(() => {\n            setNotification(null);\n            setNotificationSucess(null);\n          }, 5000);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        message={notification}\n        messageStatus={notificationSuccess}\n      />\n      <Filter handleChange={handleFilterChange} search={searchPerson} />\n      <h3>Add a new</h3>\n      <Form\n        name={newName}\n        number={newNumber}\n        handleSubmit={addPerson}\n        handleNewNumber={handleNewNumberChange}\n        handleNewName={handleNewNameChange}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        regularResults={persons}\n        filteredResults={filteredPersons}\n        removePerson={deletePerson}\n        searchInput={searchPerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React, { StrictMode } from 'react';\nimport { render } from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nrender(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}